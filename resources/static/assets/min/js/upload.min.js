(()=>{var __webpack_exports__={};(()=>{(function($){var lastUuid=0;function uuid(){return 1e3*(new Date).getTime()+lastUuid++%1e3}var settings={url:"/upload/file",data:{},secureuri:!1,fileElementId:null,dataType:"json",success:null,error:function(e,t,a){alert(a)}};$((function(){settings.data[$.getCsrfParam()]=$.getCsrfToken()})),$.ajaxFileImageUpload=function(e){(e=$.extend(settings,{url:"/upload/image"},e)).data.attribute=$("#"+e.fileElementId).attr("name");var t=e.fileElementId,a=e.fieldElementId;$.isFunction(e.success)||(e.success=function(e,i){if(0==e.code&&e.data){var r=e.data.url,n=e.data.value;$("#"+t+"_image").attr("ref",r),$("#"+a).val(n)}else e.message&&($.validator?$.validator.showError($("#"+t),e.message):alert(e.message))}),$.ajaxFileUpload(e)},$.ajaxFileUpload=function(e){var t=$.Deferred();(e=$.extend(settings,e)).data[$.getCsrfParam()]=$.getCsrfToken(),e.data.SZY_AJAX_FILE_UPLOAD="4000785268";var a=(new Date).getTime(),i=e.createUploadForm(a,e.fileElementId,void 0!==e.data&&e.data),r=(e.createUploadIframe(a,e.secureuri),"jUploadFrame"+a),n="jUploadForm"+a;e.global&&!$.active++&&$.event.trigger("ajaxStart");var o=!1,s={};e.global&&$.event.trigger("ajaxSend",[s,e]);var c=function(a){var n=document.getElementById(r);try{n.contentWindow?(s.responseText=n.contentWindow.document.body?n.contentWindow.document.body.innerHTML:null,s.responseXML=n.contentWindow.document.XMLDocument?n.contentWindow.document.XMLDocument:n.contentWindow.document):n.contentDocument&&(s.responseText=n.contentDocument.document.body?n.contentDocument.document.body.innerHTML:null,s.responseXML=n.contentDocument.document.XMLDocument?n.contentDocument.document.XMLDocument:n.contentDocument.document)}catch(t){e.handleError(e,s,null,t)}if(s||"timeout"==a){var c;o=!0;try{if("error"!=(c="timeout"!=a?"success":"error")){var l=e.uploadHttpData(s,e.dataType);e.success&&e.success(l,c),e.global&&$.event.trigger("ajaxSuccess",[s,e])}else e.handleError(e,s,c)}catch(t){c="error",e.handleError(e,s,c,t)}e.global&&$.event.trigger("ajaxComplete",[s,e]),e.global&&! --$.active&&$.event.trigger("ajaxStop"),e.complete&&e.complete(s,c),$(n).unbind(),setTimeout((function(){try{$(n).remove(),$(i).remove()}catch(t){e.handleError(e,s,null,t)}}),100),s=null,t.resolveWith(e,[l,c])}};e.timeout>0&&setTimeout((function(){o||c("timeout")}),e.timeout);try{i=$("#"+n);$(i).attr("action",e.url),$(i).attr("method","POST"),$(i).attr("target",r),i.encoding?$(i).attr("encoding","multipart/form-data"):$(i).attr("enctype","multipart/form-data"),$(i).submit()}catch(t){e.handleError(e,s,null,t)}return $("#"+r).load(c),t.promise()},settings.createUploadIframe=function(e,t){var a="jUploadFrame"+e,i='<iframe id="'+a+'" name="'+a+'" style="position:absolute; top:-9999px; left:-9999px"';return window.ActiveXObject&&("boolean"==typeof t?i+=' src="javascript:false"':"string"==typeof t&&(i+=' src="'+t+'"')),$(i+=" />").appendTo(document.body),$("#"+a).get(0)},settings.createUploadForm=function(e,t,a){var i="jUploadForm"+e,r="jUploadFile"+e,n=jQuery('<form  action="" method="POST" name="'+i+'" id="'+i+'" enctype="multipart/form-data" ></form>');if(a)for(var o in a=$.extend(a,this.getCsrf())){var s=uuid(),c=$('<input type="hidden" id="'+s+'" name="'+o+'" value="" />');$(c).val(a[o]),$(c).appendTo(n)}var l=jQuery("#"+t),d=jQuery(l).clone();return $(l).attr("id",r),$(l).before(d),$(l).appendTo(n),$(n).css("position","absolute"),$(n).css("top","-1200px"),$(n).css("left","-1200px"),$(n).appendTo("body"),n},settings.uploadHttpData=function(r,type){var data=!type;return data="xml"==type||data?r.responseXML:r.responseText,"script"==type&&$.globalEval(data),"json"==type&&eval("data = "+data),"html"==type&&$("<div>").html(data).evalScripts(),data},settings.handleError=function(e,t,a,i){e.error&&e.error.call(e.context||e,t,a,i),e.global&&(e.context?$(e.context):$.event).trigger("ajaxError",[t,e,i])},settings.getCsrfParam=function(){return $("meta[name=csrf-param]").attr("content")},settings.getCsrfToken=function(){return $("meta[name=csrf-token]").attr("content")},settings.getCsrf=function(){var e=this.getCsrfParam(),t=this.getCsrfToken();return e&&t?{name:t}:$("[name=_csrf]").val()}})(jQuery)})(),(()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}!function(t){function a(i){if(null==t(i).data("preview-click")||0!=t(i).data("preview-click")&&"false"!=t(i).data("preview-click")){var r=t("body").data("layer-index");r&&t.closeDialog(r);var n=t(i).attr("ref"),o=t(i).attr("data-file"),s=t(i).data("photos"),c=n;try{o&&""!=o&&(o=t("#"+o))}catch(e){}if(o&&"object"==e(o)){o=t(o).get(0);c=o.files&&o.files[0]?t("#imgpreview").find("img").attr("src"):n}else n&&""!=n&&(c=n);t("#imgpreview").width(),t("#imgpreview").height();if(t.isFunction(t.open)){t("#imgpreview").width(),t("#imgpreview").height();var l=t(window).width()-50,d=t(window).height()-50,m=new Image;m.src=c,t(m).on("load",(function(){var e;e=null==s||isNaN(s)?"<p class='imagepreview'><img id='imgpreview_handle' src='"+c+"' style='max-width: "+l+"px;max-height: "+d+"px;'/></p>":"<a class='view-arrow "+(l>1e3?"max_width":"")+" prev imagepreview-prev'></a><p class='imagepreview'><img id='imgpreview_handle' src='"+c+"' style='max-width: "+l+"px;max-height: "+d+"px;'/></p><a class='view-arrow  "+(l>1e3?"max_width":"")+"  next imagepreview-next'></a>";var i=top.$.open({type:1,title:!1,move:"#imgpreview_handle",scrollbar:!0,closeBtn:1,area:[l,d],skin:"layui-layer-nobg layui-layer-imagepreview",shadeClose:!0,content:e,success:function(e,i){t(e).find(".imagepreview-prev").click((function(){var e=t("body").find("[data-photos='"+(s-1)+"']");0==e.size()?t.msg("已经是没有更多图片了！"):a(e)})),t(e).find(".imagepreview-next").click((function(){var e=t("body").find("[data-photos='"+(s+1)+"']");0==e.size()?t.msg("已经是没有更多图片了！"):a(e)}))}});t("body").data("layer-index",i)}))}else window.open(n)}}t.fn.imagePreview=function(){t(this).hover((function(){if(null==t(this).data("preview-hover")||0!=t(this).data("preview-hover")&&"false"!=t(this).data("preview-hover")){var a=t(this).children().width(),i=t(this).attr("title"),r=t(this).attr("ref"),n=t(this).attr("data-file");try{n&&""!=n&&(n=t("#"+n))}catch(e){}var o=i&&""!=i?"<br/>"+i:"";if(n&&"object"==e(n)&&(n=t(n).get(0)).files&&n.files[0]){t(this).append("<p id='imgpreview'><img />"+o+"</p>");var s=t("#imgpreview").find("img").get(0);s.onload=function(){};var c=new FileReader;return c.onload=function(e){s.src=e.target.result,t(s).data("src",e.target.result)},void c.readAsDataURL(n.files[0])}""!=r?(t(this).append("<p id='imgpreview'><img src='"+r+"' />"+o+"</p>"),t("#imgpreview").css("left",a+10+"px").fadeIn("fast")):(t(this).attr("ref","/images/default/goods.gif"),t(this).append("<p id='imgpreview'><img src='/images/default/goods.gif'/>"+o+"</p>"),t("#imgpreview").css("left",a+10+"px").fadeIn("fast"))}}),(function(){t("#imgpreview").remove()})).mousemove((function(){var e=t(this).children().width();t("#imgpreview").css("left",e+10+"px").fadeIn("fast")})).click((function(){a(this)}))}}(jQuery),$(document).ready((function(){$("body").on("mouseover","a.preview",(function(){null==$(this).data("imagepreview")&&($(this).data("imagepreview",!0),$(this).imagePreview(),$(this).mouseover())}))})),$.fn.extend({uploadPreview:function(e){var t=this,a=$(this);e=jQuery.extend({Img:"img-pr",Width:100,Height:100,ImgType:["gif","jpeg","jpg","bmp","png"],Callback:function(){}},e||{}),t.getObjectURL=function(e){var t=null;return null!=window.createObjectURL?t=window.createObjectURL(e):null!=window.URL?t=window.URL.createObjectURL(e):null!=window.webkitURL&&(t=window.webkitURL.createObjectURL(e)),t},a.change((function(){if(this.value){if(!RegExp(".("+e.ImgType.join("|")+")$","i").test(this.value.toLowerCase()))return $.alert("选择文件错误,图片类型必须是"+e.ImgType.join("，")+"中的一种",{icon:2}),this.value="",!1;$("#"+e.Img+" .fild-box").hide(),$("#"+e.Img+" .image-wrap a").show(),$("#"+e.Img+" .image-wrap img").attr("src",t.getObjectURL(this.files[0])),$("#"+e.Img+" .image-wrap input").val(t.getObjectURL(this.files[0])),e.Callback()}})),$("body").on("click","#"+e.Img+" .image-wrap a",(function(){$("#"+e.Img+" .fild-box").show(),$("#"+e.Img+" .image-wrap a").hide(),$("#"+e.Img+" .image-wrap img").removeAttr("src"),$("#"+e.Img+" .image-wrap input").val("")}))}})})()})();